webpackJsonp([1],{"12PK":function(t,e){},"30kS":function(t,e){},"36OY":function(t,e){},"5ZQb":function(t,e){},C08m:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{attrs:{id:"routerview"}})],1)},staticRenderFns:[]};var a=r("VU/8")({name:"App"},i,!1,function(t){r("pyCJ")},null,null).exports,s=r("/ocq"),c=r("VU/8")({Article:function(){return{headline:"Rubrik",preamble:"Ingress",body:["Artikeltext"],image:"/static/graphics/barometern.png"}}},null,!1,null,null,null).exports,o=r("NYxO"),l=r("mtWM"),u=r.n(l),d=this;n.a.use(o.a);var m=new o.a.Store({state:{readHistory:[]},mutations:{callApi:function(t,e){var r={headers:{Authorization:"Basic "+btoa("mediadiet:bret5cise7achaxoR@0u$iSTLTiV")},mode:"cors",contentType:"text/html;charset=utf-8",dataType:"text",crossDomain:!0,data:e.data};u.a.post(e.url,{},r).then(e.successCallback,d.errorCallback).catch(function(t){console.log(t)}),console.log("iMatrics API call: "+e.url),r.headers="hidden for debug log",console.log(r)},errorCallback:function(t,e){console.log("Error"),console.log(e)}},getters:{isSelectedTheme:function(t){return t.idSelectedTheme>-1}}}),h=r("VU/8")({generateImageUrl:function(t){return"http://d6jf7ok6u1qis.cloudfront.net/imengine/image.php?uuid="+t+"&type=preview&source=false&function=cropresize&width=480&height=240&q=40&x=0.0&y=0.14535901926444833&crop_w=1.0&crop_h=0.7005253940455342&z=1"}},null,!1,null,null,null).exports,p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Concept"},[this._v("\n\n  "+this._s(this.concept.conceptTitle)+"\n\n")])},staticRenderFns:[]};var f=r("VU/8")({components:{},data:function(){return{}},props:{concept:""},computed:{},methods:{}},p,!1,function(t){r("30kS")},"data-v-478da30f",null).exports,v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ReadProgress"},[e("div",{staticClass:"bar",style:{width:100*this.value+"%"}})])},staticRenderFns:[]};var g={components:{Concept:f,ReadProgress:r("VU/8")({components:{},data:function(){return{}},props:{value:0},computed:{percent:function(){}},methods:{},mounted:function(){}},v,!1,function(t){r("C08m")},"data-v-16652b0e",null).exports},data:function(){return{scroll:0}},props:{article:"",progressEl:""},computed:{pEl:function(){return this.progressEl?this.progressEl:this.$el},img:function(){return this.article.image.length?h.generateImageUrl(this.article.image[0]):"/static/graphics/barometern.png"}},watch:{article:function(){this.$nextTick(function(){this.handleScroll()})}},methods:{handleScroll:function(){var t=0;this.pEl.getBoundingClientRect().bottom<document.documentElement.clientHeight?t=1:t=-this.pEl.getBoundingClientRect().top/(this.pEl.offsetHeight-document.documentElement.clientHeight);t=Math.max(0,t),t=Math.min(t,1),this.scroll=t}},created:function(){window.addEventListener("scroll",this.handleScroll)},mounted:function(){},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},_={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ArticleFull"},[r("div",{staticClass:" stick"},[r("div",{staticClass:"mainpadding"},[r("h3",{staticClass:"article_headline"},[t._v("\n        "+t._s(t.article.headline)+"\n      ")])]),t._v(" "),r("read-progress",{staticClass:"article_progress",attrs:{value:t.scroll}})],1),t._v(" "),r("img",{staticClass:"article_image",attrs:{src:t.img}}),t._v(" "),r("div",{staticClass:"mainpadding"},[r("p",{staticClass:"article_preamble"},[t._v("\n      "+t._s(t.article.preamble)+"\n    ")]),t._v(" "),t._l(t.article.body,function(e){return r("div",{staticClass:"article_body"},[r("p",[t._v("\n        "+t._s(e)+"\n      ")])])})],2)])},staticRenderFns:[]};var y=r("VU/8")(g,_,!1,function(t){r("ULMN")},"data-v-3ac6e67e",null).exports,b={components:{Concept:f},data:function(){return{}},props:{article:""},computed:{concepts:function(){return this.article.concepts}},methods:{}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Concepts"},this._l(this.concepts,function(t){return e("concept",{attrs:{concept:t}})}),1)},staticRenderFns:[]};var k=r("VU/8")(b,C,!1,function(t){r("sGaV")},"data-v-37023094",null).exports,S={components:{},data:function(){return{}},props:{article:""},computed:{image:function(){return this.article.image.length>0?h.generateImageUrl(this.article.image[0]):"/static/graphics/barometern-square.png"}},methods:{},mounted:function(){}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Recommendation"},[e("router-link",{staticClass:"article_recommendation",attrs:{to:{name:"ArticleView",params:{id:this.article.uuid}}}},[e("img",{attrs:{src:this.image}}),this._v(" "),e("br"),this._v("\n    "+this._s(this.article.headline)+"\n  ")])],1)},staticRenderFns:[]};var A={components:{Recommendation:r("VU/8")(S,w,!1,function(t){r("5ZQb")},"data-v-1fbba67c",null).exports},data:function(){return{recs:""}},props:{uuid:""},computed:{},watch:{uuid:function(){this.getRecommendations()}},methods:{getRecommendations:function(){var t={url:"https://gatemd1.imatrics.com/article/recommendations",data:{uuid:this.uuid,image:!0,headline:!0,preamble:!0,publicationTimestamp:!0,returnSize:3},successCallback:this.successCallback};m.commit("callApi",t)},successCallback:function(t){console.log(t),this.recs=t.data}},mounted:function(){this.getRecommendations()}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Recommendations"},this._l(this.recs,function(t){return e("recommendation",{staticClass:"recommendation",attrs:{article:t}})}),1)},staticRenderFns:[]};var q={components:{ArticleFull:y,Concepts:k,Recommendations:r("VU/8")(A,U,!1,function(t){r("eGTV")},"data-v-470d5d7d",null).exports},data:function(){return{progressEl:"",article:""}},props:{},computed:{articleRender:function(){return this.article},uuid:function(){return this.$route.params.id}},watch:{uuid:function(){this.getArticleFromParam()}},methods:{getArticleFromParam:function(){if(this.uuid){var t={url:"https://gatemd1.imatrics.com/mediadiet/article/search",data:{query:this.uuid,returnSize:1,data:["image","headline","dateline","preamble","publicationTimestamp","body","concepts","newspaper","channel","author"]},successCallback:this.successCallback};m.commit("callApi",t)}},successCallback:function(t){console.log(t),this.article=t.data[0]}},mounted:function(){this.getArticleFromParam(),this.progressEl=this.$el}},F={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ArticleView"},[t.article?r("div",[r("article-full",{attrs:{article:t.article}}),t._v(" "),r("h4",{staticClass:"header mainpadding"},[t._v("\n      Ämnen i artikeln\n    ")]),t._v(" "),r("concepts",{staticClass:"mainpadding",attrs:{article:t.article}})],1):t._e(),t._v(" "),r("h4",{staticClass:"header mainpadding"},[t._v("\n    Relaterade artiklar\n  ")]),t._v(" "),r("recommendations",{staticClass:"mainpadding recs",attrs:{uuid:t.uuid}})],1)},staticRenderFns:[]};var R=r("VU/8")(q,F,!1,function(t){r("jmwr")},"data-v-cfdd3b48",null).exports,E={components:{ArticleView:R},data:function(){return{}},props:{article:""},computed:{articleRender:function(){return this.article?this.article:c.Article()}},methods:{},mounted:function(){}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ArticleView"},[e("article-view"),this._v(" "),e("article-view")],1)},staticRenderFns:[]};r("VU/8")(E,x,!1,function(t){r("36OY")},"data-v-25c13772",null).exports;var V={components:{},data:function(){return{}},props:{article:""},computed:{img:function(){return this.article.image.length?h.generateImageUrl(this.article.image[0]):"/static/graphics/barometern.png"}},watch:{},methods:{},created:function(){},mounted:function(){},destroyed:function(){}},$={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ArticleSearch"},[r("div",[r("router-link",{attrs:{to:{name:"ArticleView",params:{id:t.article.uuid}}}},[r("img",{attrs:{src:t.img}}),t._v(" "),r("br"),t._v("\n      "+t._s(t.article.headline)+"\n    ")]),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"preamble"},[t._v("\n      "+t._s(t.article.preamble)+"\n    ")]),t._v(" "),r("br")],1)])},staticRenderFns:[]};var T=r("VU/8")(V,$,!1,function(t){r("12PK")},"data-v-2758b98e",null).exports,Q={components:{ArticleSearch:T},data:function(){return{query:"",articles:"",recs:""}},computed:{headers:function(){return{Authorization:"Basic "+btoa("mediadiet:bret5cise7achaxoR@0u$iSTLTiV")}},queryUrl:function(){return this.$route.query.s}},watch:{queryUrl:function(){this.setSearchQueryFromUrlQuery()}},methods:{setUrlQueryFromSearchQuery:function(){this.$router.push({name:"Search",query:{s:this.query}})},setSearchQueryFromUrlQuery:function(){this.query=this.queryUrl,this.searchArticles()},searchArticles:function(){var t={url:"https://gatemd1.imatrics.com/mediadiet/article/search",data:{query:this.query,returnSize:5,data:["image","headline","preamble","publicationTimestamp"]},successCallback:this.successCallback};m.commit("callApi",t)},successCallback:function(t){console.log(t),this.articles=t}},mounted:function(){this.setSearchQueryFromUrlQuery()}},z={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"Search"}},[r("div",{staticClass:"mainpadding"},[r("div",{staticClass:"stickytop searchfield"},[r("h4",[t._v("\n        Sök artiklar\n      ")]),t._v(" "),r("form",{on:{submit:function(t){t.preventDefault()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{placeholder:"Ange sökord"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),r("button",{on:{click:t.setUrlQueryFromSearchQuery}},[t._v("Sök")])])]),t._v(" "),r("h4",[t._v("\n      Sökresultat\n    ")]),t._v(" "),t._l(t.articles.data,function(t){return r("ArticleSearch",{attrs:{article:t}})})],2)])},staticRenderFns:[]};var M=r("VU/8")(Q,z,!1,function(t){r("ZTCN")},"data-v-2f07a876",null).exports,P={components:{},data:function(){return{rotation:""}},props:{word:""},computed:{},methods:{randomizeRotation:function(){this.rotation=Math.floor(10*Math.random())-5}},mounted:function(){this.randomizeRotation()}},N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"FridgeWord",style:{transform:"rotateZ("+this.rotation+"deg)"}},[e("span",{staticClass:"word"},[this._v("\n    "+this._s(this.word)+"\n  ")])])},staticRenderFns:[]};var L={components:{ArticleSearch:T,FridgeWord:r("VU/8")(P,N,!1,function(t){r("vMEs")},"data-v-64fcc2f0",null).exports},data:function(){return{query:"",articles:"",recs:""}},computed:{headers:function(){return{Authorization:"Basic "+btoa("mediadiet:bret5cise7achaxoR@0u$iSTLTiV")}},queryUrl:function(){return this.$route.query.s}},watch:{queryUrl:function(){this.setSearchQueryFromUrlQuery()}},methods:{setUrlQueryFromSearchQuery:function(){this.$router.push({name:"Fridge",query:{s:this.query}})},setSearchQueryFromUrlQuery:function(){this.query=this.queryUrl,this.searchArticles()},searchArticles:function(){var t={url:"https://gatemd1.imatrics.com/mediadiet/article/search",data:{query:this.query,returnSize:5,data:["image","headline","preamble","publicationTimestamp"]},successCallback:this.successCallback};m.commit("callApi",t)},successCallback:function(t){console.log(t),this.articles=t}},mounted:function(){this.setSearchQueryFromUrlQuery()}},B={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"Fridge"}},[r("div",{staticClass:"mainpadding"},[r("div",{staticClass:"stickytop searchfield"},[r("h4",[t._v("\n        Skriv din kylskåpspoesi\n      ")]),t._v(" "),r("form",{on:{submit:function(t){t.preventDefault()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{placeholder:"Ange sökord"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),r("button",{on:{click:t.setUrlQueryFromSearchQuery}},[t._v("Sök")])]),t._v(" "),t.query?r("div",{staticClass:"fridge"},t._l(t.query.split(" "),function(e){return r("fridge-word",{staticClass:"fridgeWord",attrs:{word:e}},[t._v("\n          "+t._s(e)+"\n        ")])}),1):t._e()]),t._v(" "),r("h4",[t._v("\n      Sökresultat\n    ")]),t._v(" "),t._l(t.articles.data,function(t){return r("ArticleSearch",{attrs:{article:t}})})],2)])},staticRenderFns:[]};var H=r("VU/8")(L,B,!1,function(t){r("uFTe")},"data-v-20f04134",null).exports;n.a.use(s.a);var I=new s.a({mode:"history",scrollBehavior:function(t,e,r){return{x:0,y:0}},routes:[{path:"/",name:"Search",component:M},{path:"/nyheter/:id?",name:"ArticleView",component:R},{path:"/sok",name:"Search",component:M},{path:"/poesi",name:"Fridge",component:H}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:I,components:{App:a},template:"<App/>"})},ULMN:function(t,e){},ZTCN:function(t,e){},eGTV:function(t,e){},jmwr:function(t,e){},pyCJ:function(t,e){},sGaV:function(t,e){},uFTe:function(t,e){},vMEs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.998c56d745827d35f9d0.js.map